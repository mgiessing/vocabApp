BoxLayout:
    manager: screen_manager
    orientation: 'vertical'

    ActionBar:
        id: actBar
        background_image: ''
        background_color: (0.53, 0.808, 0.98, 1)

        ActionView:
            ActionPrevious:
            ActionButton:
                text: 'Training'
                on_release: root.manager.current = 'main'
            ActionButton:
                text: 'Quiz'
                on_release: root.manager.current = 'quiz'
            ActionButton:
                text: 'Settings'
                on_release: app.open_settings()
    
    MyScreenManager:
        id: screen_manager
        MainWindow:
        DashboardWindow:
        QuizWindow:

<MainWindow>:
    name: 'main'
    vocab: vocab
    userInput: userInput

    GridLayout:
        size: root.width, root.height
        rows: 4

        Label:
            id: vocab
            #text: ''#"Welcome to the Chinese Learning App!"
        
        TextInput:
            id: userInput
            hint_text: 'Enter answer'
            width: 300
            multiline: False
            on_text_validate: root.btn_submit()
            font_name: 'static/NotoSansSC-Regular.otf'

        GridLayout:
            cols: 3
            Button:
                text: 'Submit'
                on_press: root.btn_submit()
            Button:
                text: 'Start/Skip'
                on_press: root.btn_next()
            Button:
                text: 'Dashboard'
                on_press: app.root.current = 'dashboard'

<QuizWindow>:
    name: 'quiz'
    quizText: quizText

    GridLayout:
        size: root.width, root.height
        rows: 4
        Label:
            id: quizHead
            text: root.quizHead
        TextInput:
            id: quizText
            hint_text: 'Enter answer'
            width: 300
            multiline: False
            on_text_validate: root.btn_submit()
            font_name: 'static/NotoSansSC-Regular.otf'

        GridLayout:
            cols: 3
            Button:
                text: 'Previous'
                on_press: root.btn_prev()
            Button:
                text: 'Submit'
                on_press: root.btn_submit()
            Button:
                text: 'Next'
                on_press: root.btn_next()

<PopupWindow>:
    pLabel: pLabel

    Label:
        id: pLabel
        size_hint: .6, .2
        pos_hint:{'x': .2, 'top': 1}
        font_name: 'static/NotoSansSC-Regular.otf'
    Button:
        text: 'Close'
        size_hint: .8, .2
        pos_hint:{'x': .1, 'y': .1}
        on_release: root.close_pop()

<DashboardWindow>:
    name: 'dashboard'
    GridLayout:
        rows: 2
        Label:
            text: '<e.g. PieChart Results>'
        Button:
            text: 'Go back'
            on_press: app.root.current = 'main'